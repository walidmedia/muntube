{% load static %}
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
  :root {
--primary: #B88E6D;
--secondary: #191C24;
--light: #6C7293;
--dark: #000000;
}

.container {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.cover-image {
  width: 100%;
  height: 200px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.cover-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;

}

.edit-profile-button {
  position: absolute;
  top: 80px;
  right: 10px;
  padding: 10px 10px;
  background-color: #ba7900;
  border: 1px solid rgba(70, 40, 9, 0.81);
  border-radius: 5px;
  font-size: 14px;
  font-weight: bold;
  cursor: pointer;
}

.profile {
  margin-top: -75px;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.profile img {
  width: 150px;
  height: 150px;
  border-radius: 50%;
  object-fit: cover;
  margin-bottom: 10px;
  border: 4px solid black;

}

.channel-name {
  font-size: 24px;
  font-weight: bold;
  margin-bottom: 5px;
}

.bio {
  font-size: 14px;
  text-align: center;
  width: 80%;
}

.nav-pills-container {
  width: 100%;
  overflow-x: auto;
  white-space: nowrap;
  margin-top: 10px;
}

.nav-pills {
  display: flex;
}

.nav-pill {
  padding: 10px 20px;
  font-size: 16px;
  font-weight: bold;
  text-align: center;
  color: gray;
  margin-right: 10px;
  cursor: pointer;
}

.nav-pill.active {
  color: #B88E6D;
}
.result {
    float: left;

  }
.nav-pills .nav-pill:hover {
    color: #ba7900;
}
.subscriptions {
  margin: 20px;
}

.subscriptions-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.subscriptions-header h2 {
  font-size: 18px;
  font-weight: 500;
  color: #212121;
}

.subscription {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
}

.subscription img {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  margin-right: 10px;
}

.subscription-info h3 {
  margin: 0;
  font-size: 16px;
  font-weight: 500;
  color: #212121;
}

.subscription-info p {
  margin: 0;
  font-size: 14px;
  color: #757575;
}

.unsubscribe-button {
  margin-left: auto;
  background-color: #ba7900;
  color: #fff;
  border: none;
  border-radius: 2px;
  padding: 6px 12px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
}

.unsubscribe-button:hover {
  background-color: rgba(70, 40, 9, 0.81);
}
.playlist-videos {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: 20px;
  margin: 0 -10px;
}

.playlist-video {
  position: relative;
  width: calc(33.33% - 10px);
  max-width: 300px;
}

.playlist-thumbnail {
  position: relative;
  display: block;
  width: 100%;
  padding-bottom: 56.25%; /* 16:9 aspect ratio */
  overflow: hidden;
  border-radius: 10px;
  background-color: black;
}

.playlist-thumbnail img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.playlist-thumbnail:hover .playlist-info {
  display: block;
}

.playlist-info {
  display: none;
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  padding: 10px;
  background-color: rgba(0, 0, 0, 0.8);
  color: white;
  font-size: 14px;
  text-align: center;
}

.playlist-info h3 {
  margin: 0;
  font-size: 16px;
  margin-bottom: 5px;
}

.playlist-info p {
  margin: 0;
  font-size: 12px;
  margin-bottom: 5px;
}

.playlist-info span {
  display: block;
  font-size: 12px;
  margin-top: 5px;
}

@media screen and (min-width: 768px) {
  .playlist-video {
    width: calc(50% - 10px);
    max-width: 350px;
  }
}

@media screen and (min-width: 992px) {
  .playlist-video {
    width: calc(33.33% - 10px);
    max-width: 300px;
  }
}
  @media screen and (max-width: 575px) {
  .playlist-video {
    width: 100%;
    max-width: none;
  }
}
  @media screen and (max-width: 767px) {
  .playlist-video:hover .playlist-info {
    display: block;
  }
}

.video-container {
  display: flex;
  flex-wrap: wrap;
  margin-bottom: 20px;
  background-color: #191C24;
  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);
}

.video-play-btn {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: transparent;
  border: none;
  color: #fff;
  font-size: 32px;
  cursor: pointer;
}
.video-thumbnail {
  position: relative;
  flex: 1 1 200px;
  max-width: 200px;
  margin-right: 10px;
}

.video-thumbnail img {
  display: block;
  width: 100%;
  height: auto;
}

.video-thumbnail .video-play-btn {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 1; /* Ensure that the video play button appears above the text */
}

.video-info {
  padding: 10px;
  flex: 1 1 calc(100% - 210px); /* Subtract the width of the video thumbnail plus margin from the total width of the container */
  max-width: calc(100% - 210px); /* Subtract the width of the video thumbnail plus margin from the total width of the container */
}
.video-title {
  margin: 0 0 5px;
  font-size: 18px;
  font-weight: 500;
  line-height: 1.2;
  color: #333;
}

.video-author {
  margin: 0 0 5px;
  font-size: 14px;
  font-weight: 400;
  line-height: 1.2;
  color: #666;
}

.video-views {
  margin: 0 0 5px;
  font-size: 14px;
  font-weight: 400;
  line-height: 1.2;
  color: #666;
}

.video-menu {
  margin-top: 10px;
  display: flex;
  justify-content: flex-end;
}

.video-dropdown {
  position: relative;
  display: inline-block;
}

.video-dropdown-btn {
  background-color: transparent;
  border: none;
  color: #333;
  font-size: 16px;
  cursor: pointer;
}

.video-dropdown-content {
  display: none;
  position: absolute;
  top: 100%;
  right: 0;
  background-color: #fff;
  min-width: 160px;
  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
  z-index: 1;
}

.video-dropdown-content a {
  color: #333;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}

.video-dropdown-content a:hover {
  background-color: #f1f1f1;
}

.video-dropdown:hover .video-dropdown-content {
  display: block;
}
.video-dropdown:hover .video-dropdown-content a {
  color: #000;
}
@media only screen and (max-width: 768px) {
  .video-thumbnail {
    flex: 1 1 100%;
    max-width: 100%;
    margin-right: 0;
    margin-bottom: 10px;
  }

  .video-info {
    flex: 1 1 100%;
    max-width: 100%;
  }
}

  </style>

{% block content %}
{% include 'base.html' %}
<body style="margin-bottom: 150px">
<div class="container">
{% if channel %}
  <div class="cover-image">
    <img src="{{ channel.cover_image.url }}" alt="Cover Image">
    <button class="edit-profile-button btn btn-secondary" style="" onclick="location.href='{% url 'update_channel' %}'">Personaliser</button>
  </div>
  <div class="profile">
      <img  src="{% if channel.owner.photo %}{{ channel.owner.photo.url }}{% else %}{% static 'images/profile1.jpg' %}{% endif %}" alt="Profile Image">
  {% if user.first_name %}
    <h1 class="channel-name">{{ channel.name }}</h1>
    <p class="bio text-white">{{ channel.description }}</p>
  {% else %}
  <h1 class="channel-name">@Muntube user</h1>
    <p class="bio text-white">Bio..</p>
      <p class="text-danger">Vous n'avez pas encore rempli les champs de votre profil</p>
      <button type="button" class="btn btn rounded-pill m-2" style="background-color: #533f03; color: white">
          <a href="{% url 'monprofile' request.user.id %}" style="color: white">Mon compte</a>
      </button>
  {% endif %}
  </div>
{% endif %}
  <div class="nav-pills-container">
    <div class="nav-pills">
      <a class="nav-pill" href="#home-results" onclick="showResult('home-results')">Accueil</a>
      <a class="nav-pill" href="#video-results" onclick="showResult('video-results')">Playlists</a>
      <a class="nav-pill" href="#Mon-YoutTube" onclick="showResult('channel-results')">Mon YoutTube</a>
      <a class="nav-pill" href="#Mes-chaînes" onclick="showResult('mes-chaines')">Mes chaînes</a>
      <a class="nav-pill" href="#playlist-results" onclick="showResult('playlist-results')">A Propos</a>
      <a class="nav-pill" href="#En-direct" >En direct</a>
    </div>
      <hr>
  </div>
  <div class="result col-sm-12 col-md-12 col-xl-12" id="home-results">
    <div class="container-fluid">
        <div class="row ">
            <div class="col-sm-12 col-md-12 col-xl-12">
        <h6 class="text-muted">Vidéos</h6>
        {% for v in mesvideos %}
            <a href="{% url 'video' v.id %}">
                <div class="video-container">
                    {% if v.miniature %}
              <div class="video-thumbnail">
                <img src="{{ v.miniature.url }}" alt="Video thumbnail">
                <!--<button class="video-play-btn"><i class="fa fa-play"></i></button>-->
              </div>
                        {% else %}
                <div class="video-thumbnail">
                <img src="{% static 'images/Playlist non classée.svg' %}" alt="Video thumbnail">
                <!--<button class="video-play-btn"><i class="fa fa-play"></i></button>-->
              </div>
                    {% endif %}
              <div class="video-info">
                <h3 class="video-title text-white">{{ v.title }}</h3>
                <p class="video-author">{{ v.detail }}</p>
                <p class="video-views">{{ v.views }} views</p>
                <div class="video-menu">
                  <div class="video-dropdown">
                    <button style="color: white" class="video-dropdown-btn"><i class="fa fa-ellipsis-v"></i></button>
                    <div class="video-dropdown-content bg-dark">
                      <a href="{% url 'updatevideo' v.id %}" class="align-middle text-white">Modifier</a>
                      <a href="#" class="align-middle text-white">Ajouter au Playlist</a>
                         <button style="background-color: transparent" id="delete-video" class="text-center text-white" data-video-id="{{ v.id }}">Supprimer</button>
                        <script>
  const deleteBtns = document.querySelectorAll('.delete-video');
  deleteBtns.forEach(deleteBtn => {
    const videoId = deleteBtn.dataset.videoId;
    deleteBtn.addEventListener('click', () => {
      const confirmDelete = confirm('Are you sure you want to delete this video?');

      if (confirmDelete) {
        fetch(`/delete/${videoId}`, {
          method: 'DELETE',
          headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': '{{ csrf_token }}'
          },
        })
        .then(response => {
          if (response.ok) {
            window.location.href = '/'; // redirect to home page after successful deletion
          } else {
            throw new Error('Failed to delete video');
          }
        })
        .catch(error => {
          console.error(error);
          alert(error.message);
        });
      }
    });
  });
</script>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            </a>
        {% endfor %}
        </div>
    </div>
    </div>
  </div>
  <script>
      // Get all the video dropdown buttons
var dropdownBtns = document.querySelectorAll(".video-dropdown-btn");

// Loop through all the video dropdown buttons
dropdownBtns.forEach(function(dropdownBtn) {
  // Get the dropdown content for this button
  var dropdownContent = dropdownBtn.nextElementSibling;

  // Toggle the dropdown content when the button is clicked
  dropdownBtn.addEventListener("click", function() {
    dropdownContent.classList.toggle("show");
  });

  // Close the dropdown content when the user clicks outside of it
  window.addEventListener("click", function(event) {
    if (!event.target.matches(".video-dropdown-btn")) {
      if (dropdownContent.classList.contains("show")) {
        dropdownContent.classList.remove("show");
      }
    }
  });
});

  </script>
  </div>
  <div class="result col-sm-12 col-md-12 col-xl-12 p-1" id="video-results" style="display:none;">
    <div class="container-fluid">
    <p>
    <button type="button" class="btn btn-secondary mt-3" onclick="toggleForm()">Ajouter Playlist</button>
    </p>

<div id="playlist-form" style="display: none;">

  <form class="card bg-secondary p-4" method="post" action="{% url 'AddPlaylist' %}" enctype="multipart/form-data">
    {% csrf_token %}
      <h6 style="color: #b3b7bb" class="mt-3 mb-3">Nouvelle Playlist</h6>
    <div class="form-group">
      <input required type="text" class="form-control" style="background-color: #000000;border: 2px solid #7f5a07 !important;" placeholder="Nom Playlist" id="nom_playlist" name="nom_playlist">
    </div><br>
    <div class="form-group">
      <input required style="background-color: #000000;border: 2px solid #7f5a07 !important;" type="file" class="form-control" placeholder="Miniature Playlist" id="miniature_playlist" name="miniature_playlist">
    </div><br>
    <div class="form-group">
      <textarea class="form-control" style="background-color: #000000;border: 2px solid #7f5a07 !important;" placeholder="Description" id="desc_playlist" name="desc_playlist"></textarea>
    </div><br>
    <button type="submit" class="btn btn-dark mt-3">Ajouter Playlist</button>
  </form>
</div>

<script>
function toggleForm() {
  var form = document.getElementById("playlist-form");
  if (form.style.display === "none") {
    form.style.display = "block";
  } else {
    form.style.display = "none";
  }
}
</script>

      <div class="playlist">
        <div class="playlist-header">
        <p><h5 class="text-muted">Toutes les playlists</h5></p>
  </div>
<div class="playlist-videos p-2 mb-3">
  {% for p in play_lists %}
  <div class="playlist-video">
  <a href="{% url 'get_playlist_videos' p.id %}">
      {% if p.miniature_playlist %}
    <div class="playlist-thumbnail">
      <img src="{{ p.miniature_playlist.url }}" alt="Video thumbnail">
      <div class="playlist-info">
        <h3 class="text-white">{{ p.nom_playlist }}</h3>
        <p>{{ p.desc_playlist }}</p>
        <span>{{ p.videos.count }} videos</span>
      </div>
    </div>
    {% else %}
    <div class="playlist-thumbnail container-fluid">
      <img src="{% static 'images/Playlist non classée.svg' %}" alt="Video thumbnail">
      <div class="playlist-info">
        <h3 class="text-white">{{ p.nom_playlist }}</h3>
        <p>{{ p.desc_playlist }}</p>
        <span>{{ p.videos.count }} videos</span>
      </div>
    </div>
    {% endif %}
  </a>
  </div><br>
  {% endfor %}
</div>


    </div>
    </div>
    <script>
    // Add click event listener to all playlist videos
const playlistVideos = document.querySelectorAll('.playlist-video');
playlistVideos.forEach(video => {
  video.addEventListener('click', e => {
    const videoTitle = e.target.querySelector('h3').textContent;
    // Do something with the clicked video
    console.log(`Clicked on video: ${videoTitle}`);
  });
});

</script>
  </div>
  <div class="result col-sm-12 col-md-12 col-xl-12" id="playlist-results" style="display:none;">
    <div>
        <div class="bg-secondary rounded h-100 p-4">
            <h5 class="mb-4">Contenu de la chaîne</h5>
            <div class="table-responsive mb-3">
                <table class="table text-white">
                    <thead class="text-white">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Video</th>
                            <th scope="col">detail</th>
                            <th scope="col">Vues</th>
                            <th scope="col">j'aimes</th>
                            <th scope="col">Commentaires</th>
                            <th scope="col">Catégorie</th>
                            <th scope="col">Status</th>
                            <th scope="col">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                    {% for v in mesvideos %}
                        <tr>
                            <th scope="row">{{ v.id }}</th>
                            <td>{{ v.title }}</td>
                            <td>{{ v.detail }}</td>
                            <td>{{ v.views }}</td>
                            <td>{{ v.total_likes }}</td>
                            <td>{{ v.total_comments }}</td>
                            <td>{{ v.categorie }}</td>
                            <td>{{ v.status_video }}</td>
                            <td>
                                <button style="background-color: #533f03" data-bs-toggle="dropdown" class=" btn rounded-pill btn-outline-secondary btn-xs align-content-center" >
                                    <i class="fa fa-ellipsis-h"></i>
                                </button>
                                <div class="dropdown-menu dropdown-menu-start bg-black border-0 rounded-0 rounded-bottom m-0">
                                    {% if user.is_authenticated %}
                                    <form>
                                         {% csrf_token %}
                                        <button class="dropdown-item" type="submit" value="" name="id_video">
                                            <i class="fa fa-flag me-3"></i><span class="align-middle text-black">Modifier</span>
                                        </button>
                                    </form>
                                    <form action="#" method="post">
                                        {% csrf_token %}
                                        <button class="dropdown-item" type="submit" value="" name="id_video">
                                            <i class="fa fa-save me-3"></i><span class="align-middle text-black">Supprimer</span>
                                        </button>
                                    </form>
                                    {% else %}
                                        <form>
                                         {% csrf_token %}
                                            <button class="dropdown-item" type="submit" value="{{ v.id }}" name="id_video">
                                                <i class="fa fa-flag me-3"></i><span class="align-middle text-black">Modifier</span>
                                            </button>
                                        </form>
                                        <form action="{% url 'login' %}" method="post">
                                            {% csrf_token %}
                                            <button class="dropdown-item" type="submit" value="{{ v.id }}" name="id_video">
                                                <i class="fa fa-save me-3"></i><span class="align-middle text-black">Supprimer</span>
                                            </button>
                                            </form>
                                    {% endif %}
                                </div>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
            <h5>Playlists</h5>
            <div class="table-responsive mb-3">
                <table class="table text-white">
                    <thead class="text-white">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Playlist</th>
                            <th scope="col">detail</th>
                            <th scope="col">Vidéos</th>
                            <th scope="col">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                    {% for p in play_lists %}
                        <tr>
                            <th scope="row">{{ p.id }}</th>
                            <td>{{ p.nom_playlist }}</td>
                            <td>{{ p.desc_playlist }}</td>
                            <td>10</td>
                            <td>
                                <button style="background-color: #533f03" data-bs-toggle="dropdown" class=" btn rounded-pill btn-outline-secondary btn-xs align-content-center" >
                                    <i class="fa fa-ellipsis-h"></i>
                                </button>
                                <div class="dropdown-menu dropdown-menu-start bg-black border-0 rounded-0 rounded-bottom m-0">
                                    {% if user.is_authenticated %}
                                    <form>
                                         {% csrf_token %}
                                        <button class="dropdown-item" type="submit" value="" name="id_video">
                                            <i class="fa fa-flag me-3"></i><span class="align-middle text-black">Modifier</span>
                                        </button>
                                    </form>
                                    <form action="#" method="post">
                                        {% csrf_token %}
                                        <button class="dropdown-item" type="submit" value="" name="id_video">
                                            <i class="fa fa-save me-3"></i><span class="align-middle text-black">Supprimer</span>
                                        </button>
                                    </form>
                                    {% else %}
                                        <form>
                                         {% csrf_token %}
                                            <button class="dropdown-item" type="submit" value="{{ v.id }}" name="id_video">
                                                <i class="fa fa-flag me-3"></i><span class="align-middle text-black">Modifier</span>
                                            </button>
                                        </form>
                                        <form action="{% url 'login' %}" method="post">
                                            {% csrf_token %}
                                            <button class="dropdown-item" type="submit" value="{{ v.id }}" name="id_video">
                                                <i class="fa fa-save me-3"></i><span class="align-middle text-black">Supprimer</span>
                                            </button>
                                            </form>
                                    {% endif %}
                                </div>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
  </div>
  <div class="result col-sm-12 col-md-12 col-xl-12" id="channel-results" style="display:none;">
    <div class="container-fluid">
        <div class="row ">
    <div class="col-sm-12 col-md-12 col-xl-12">

    <h5 style="color: #B88E6D">Ma chaine youtube</h5>

    {% for video in live_videos %}
    <div class="col-6">
    <!-- Code pour afficher la vidéo en direct -->
       <iframe src="https://www.youtube.com/embed/{{ video.id }}"></iframe>
    <h6>Title: {{ video.snippet.title }}</h6>
    <p class="text-white">Description: {{ video.snippet.description }}</p>
    </div>

    {% endfor %}

    <hr style="color:  #B88E6D">
    <div class="row">
        {% for video in videos %}
        <div class="col-sm-6 col-xl-3 mb-5">
            <div class="rounded d-flex align-items-center justify-content-between h-100">
                <div style="background-color: #191C24; " class="card h-100">
                    <iframe src="https://www.youtube.com/embed/{{ video.id }}"  class="card embed-responsive embed-responsive-16by9" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    <span style="color: #fdecdd">{{ video.snippet.title }}</span>
                    <small style="color: #fdecdd">{{ video.statistics.viewCount }} vues | {{ video.statistics.likeCount }} <i class="fa fa-heart"></i></small>
                </div>
                </div>
            </div>
        {% endfor %}
        </div>
    </div>
    </div>
    </div>
  </div>
  <div class="result col-sm-12 col-md-12 col-xl-12" id="mes-chaines" style="display:none;">
    <div class="container-fluid">
        <div class="row ">
            <div class="col-sm-12 col-md-12 col-xl-8">
            <h5 style="color: #B88E6D">Mes chaines sur muntube</h5>
                <div class="subscriptions">
                  <div class="subscriptions-header">
                    <h2 class="text-white">Mes chaines</h2>
                  </div>
                  <div class="subscriptions-list">
                      {% for chaine in chaines %}
                    <div class="subscription">
                    {% if chaine.image %}
                      <img src="{{ chaine.image.url }}" alt="Channel thumbnail">
                    {% else %}
                        <img src="{% static 'images/logo user.jpg' %}" alt="Channel thumbnail">
                    {% endif %}
                      <div class="subscription-info">
                        <h3 style="color: white; font-size: 12px"><strong>{{ chaine.name }}</strong></h3>
                        <p style="font-size: 12px">{{ chaine.description }}</p>
                      </div>
                      <button class="unsubscribe-button" style="font-size: 12px">Revendiquer</button>
                    </div>
                    {% endfor %}
                  </div>
                </div>
                <script>
                    // Add click event listener to all unsubscribe buttons
                const unsubscribeButtons = document.querySelectorAll('.unsubscribe-button');
                unsubscribeButtons.forEach(button => {
                  button.addEventListener('click', e => {
                    const subscriptionItem = e.target.parentNode;
                    subscriptionItem.remove(); // Remove the subscription item from the DOM
                  });
                });

                </script>
            </div>
        </div>
    </div>
  </div>

<script>
  function showResult(resultId) {
    var homeResult = document.getElementById("home-results");
    var videoResult = document.getElementById("video-results");
    var playlistResult = document.getElementById("playlist-results");
    var channelResult = document.getElementById("channel-results");
    var meschaines = document.getElementById("mes-chaines");

    homeResult.style.display = "none";
    videoResult.style.display = "none";
    playlistResult.style.display = "none";
    channelResult.style.display = "none";
    meschaines.style.display = "none";

    document.getElementById(resultId).style.display = "block";
  }
</script>
    </body>
<script>
const navPills = document.querySelector('.nav-pills');
const navPillsList = document.querySelector('.nav-pills-list');

// Check if the screen width is less than a certain threshold
if (window.innerWidth < 576) {
  navPills.classList.add('scrollable');
  navPillsList.classList.add('scrollable-list');
}

// Add event listeners to scroll the navigation pills left or right
navPills.addEventListener('touchstart', startTouch);
navPills.addEventListener('touchmove', moveTouch);

let initialX = null;
let currentX = null;

function startTouch(event) {
  initialX = event.touches[0].clientX;
}

function moveTouch(event) {
  if (initialX === null) {
    return;
  }

  currentX = event.touches[0].clientX;
  let diffX = initialX - currentX;

  if (diffX > 0) {
    navPillsList.scrollLeft += diffX;
  } else {
    navPillsList.scrollLeft -= diffX;
  }

  initialX = null;
}

</script>

{% include 'footer.html' %}
{% endblock %}